.TH FOREIGN_READ_AND_SETUP 3 "24 Dec 2005" "Karma Distribution"
.SH EXPERIMENTAL_FUNC
foreign_read_and_setup \- Read a file and perform some setup.
.SH SYNOPSIS
.B #include <karma_foreign.h>
.sp
.B flag foreign_read_and_setup
.sp
(CONST char *filename, unsigned int mmap_option,
flag writable, unsigned int *ftype, flag inform,
unsigned int num_dim,
unsigned int preferred_type, flag force_type,
iarray *array, double *min, double *max,
flag discard_zero_range, KwcsAstro *ap)
.SH DESCRIPTION
This routine will attempt to guess the filetype of a file and
in the file, converting to an Intelligent Array if possible. The routine
then performs some simple checks and some other convenience functions.
.IP \fIfilename\fP 1i
The name of the file to read.
.IP \fImmap_option\fP 1i
This has the same meaning as for the <dsxfr_get_multi>
routine.
.IP \fIwritable\fP 1i
This has the same meaning as for the <dsxfr_get_multi> routine.
.IP \fIftype\fP 1i
The type of the file that was read in is written here. This may be
NULL.
.IP \fIinform\fP 1i
If TRUE, the routine displays some informative messages.
.IP \fInum_dim\fP 1i
The number of dimensions required. If this is 0, any number of
dimensions is allowed.
.IP \fIpreferred_type\fP 1i
The preferred data type. If this is NONE, then no type is
preferred.
.IP \fIforce_type\fP 1i
If TRUE, the routine fails if the preferred data type was not
available.
.IP \fIarray\fP 1i
The Intelligent Array is written here. An existing array pointed to
by this is deallocated.
.IP \fImin\fP 1i
The minimum data value in the array is written here. If this is NULL
nothing is written here.
.IP \fImax\fP 1i
The maximum data value in the array is written here. If this is NULL
nothing is written here.
.IP \fIdiscard_zero_range\fP 1i
If TRUE, and the range of the data is zero, the
routine fails.
.IP \fIap\fP 1i
The KwcsAstro object is written here. This may be NULL.
.SH RETURN VALUE
TRUE on success, else FALSE.
.SH Multi-threading Level
Unsafe.
.SH AUTHOR
Richard Gooch (rgooch@atnf.csiro.au)
.SH AVAILABLITY
The Karma Distribution is available for anonymous ftp from:

ftp://ftp.atnf.csiro.au/pub/software/karma/
ftp://wuarchive.wustl.edu/graphics/graphics/packages/karma/
ftp://ftp.pwr.wroc.pl/pub/karma/

The Karma Home Page is:

http://www.atnf.csiro.au/karma/
