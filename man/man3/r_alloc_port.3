.TH R_ALLOC_PORT 3 "24 Dec 2005" "Karma Distribution"
.SH FUNCTION
r_alloc_port \- Allocate a Karma port whic can receive connections.
.SH SYNOPSIS
.B #include <karma_r.h>
.sp
.B int * r_alloc_port
.sp
(unsigned int *port_number, unsigned int retries,
unsigned int *num_docks)
.SH DESCRIPTION
This routine will allocate a Karma port for the module so that it
can operate as a server (able to receive network connections).
The routine will create a number of docks for one port. Each dock is an
alternative access point for other modules to connect to this port.
The close-on-exec flags of the docks are set such that the docks will
close on a call to execve(2V).
The docks are placed into non-blocking mode.
.IP \fIport_number\fP 1i
A pointer to the port number to allocate. The routine will
write the actual port number allocated to this address. This must point to
an address which lies on an <<int>> boundary.
.IP \fIretries\fP 1i
The number of succsessive port numbers to attempt to allocate
before giving up. If this is 0, then the routine will give up immediately
if the specified port number is in use.
.IP \fInum_docs\fP 1i
The number of docks allocated will be written here. This must
point to an address which lies on an <<int>> boundary.
.SH RETURN VALUE
A pointer to a statically allocated array of docks on success,
else NULL.
.SH Multi-threading Level
Unsafe.
.SH AUTHOR
Richard Gooch (rgooch@atnf.csiro.au)
.SH AVAILABLITY
The Karma Distribution is available for anonymous ftp from:

ftp://ftp.atnf.csiro.au/pub/software/karma/
ftp://wuarchive.wustl.edu/graphics/graphics/packages/karma/
ftp://ftp.pwr.wroc.pl/pub/karma/

The Karma Home Page is:

http://www.atnf.csiro.au/karma/
